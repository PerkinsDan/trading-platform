"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6754],{90:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"Apps/OrderProcessor/MatchingEngine","title":"MatchingEngine","description":"Filename: MatchingEngine.java","source":"@site/docs/Apps/OrderProcessor/MatchingEngine.md","sourceDirName":"Apps/OrderProcessor","slug":"/Apps/OrderProcessor/MatchingEngine","permalink":"/docs/Apps/OrderProcessor/MatchingEngine","draft":false,"unlisted":false,"editUrl":"https://github.com/PerkinsDan/trading-platform/tree/main/documentation/docs/docs/Apps/OrderProcessor/MatchingEngine.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"MatchingDetails","permalink":"/docs/Apps/OrderProcessor/MatchingDetails"},"next":{"title":"Order","permalink":"/docs/Apps/OrderProcessor/Order"}}');var i=r(4848),t=r(8453);const o={},d="MatchingEngine",c={},l=[{value:"What is it?",id:"what-is-it",level:2},{value:"When do we use it?",id:"when-do-we-use-it",level:2},{value:"Attributes",id:"attributes",level:2},{value:"Methods",id:"methods",level:2},{value:"<code>match(TradeBook tradeBook)</code>",id:"matchtradebook-tradebook",level:3},{value:"<code>processMatches()</code>",id:"processmatches",level:3},{value:"<code>matchPossible(PriorityQueue buyOrders, PriorityQueue sellOrders)</code>",id:"matchpossiblepriorityqueue-buyorders-priorityqueue-sellorders",level:3}];function a(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"matchingengine",children:"MatchingEngine"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Filename"}),": ",(0,i.jsx)(s.code,{children:"MatchingEngine.java"})]}),"\n",(0,i.jsx)(s.h2,{id:"what-is-it",children:"What is it?"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"MatchingEngine"})," class is a utility class filled with static methods.",(0,i.jsx)(s.br,{}),"\n","It contains the core order matching methods that are called each time an order is placed. Its role is to look at a ",(0,i.jsx)(s.code,{children:"TradeBook"})," and find as many matches between orders as it can, create ",(0,i.jsx)(s.code,{children:"MatchingDetails"})," DTOs for each match, and return them."]}),"\n",(0,i.jsx)(s.h2,{id:"when-do-we-use-it",children:"When do we use it?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"During trading hours, this class is called every single time an order is submitted."}),"\n",(0,i.jsxs)(s.li,{children:["On each call, it evaluates the ",(0,i.jsx)(s.code,{children:"TradeBook"}),", matches orders, and generates DTOs for each match until there are no more possible matches."]}),"\n",(0,i.jsxs)(s.li,{children:["It is called exactly once per order, but each call may result in more than one match, as orders are matched in price-time priority (see ",(0,i.jsx)(s.code,{children:"OrderComparator"})," for further explanation)."]}),"\n",(0,i.jsx)(s.li,{children:"An order being filled means a new order is now first in line to be matched."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"attributes",children:"Attributes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"buyOrders"})}),": A ",(0,i.jsx)(s.code,{children:"PriorityQueue"})," of buy orders."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"sellOrders"})}),": A ",(0,i.jsx)(s.code,{children:"PriorityQueue"})," of sell orders."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"matchesFound"})}),": An ",(0,i.jsx)(s.code,{children:"ArrayList"})," of JSON strings, where each JSON is a serialized version of a ",(0,i.jsx)(s.code,{children:"MatchingDetails"})," object."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(s.h3,{id:"matchtradebook-tradebook",children:(0,i.jsx)(s.code,{children:"match(TradeBook tradeBook)"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Description"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Takes a ",(0,i.jsx)(s.code,{children:"TradeBook"})," as input, evaluates the ",(0,i.jsx)(s.code,{children:"TradeBook"})," for matches, processes them, and returns an ",(0,i.jsx)(s.code,{children:"ArrayList"})," of ",(0,i.jsx)(s.code,{children:"MatchingDetails"})," JSONs that are used to update the database."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"processmatches",children:(0,i.jsx)(s.code,{children:"processMatches()"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Description"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Helper method called by the ",(0,i.jsx)(s.code,{children:"match()"})," method."]}),"\n",(0,i.jsxs)(s.li,{children:["Responsible for updating orders in the ",(0,i.jsx)(s.code,{children:"TradeBook"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Adjusts quantities, creates and serializes the ",(0,i.jsx)(s.code,{children:"MatchingDetails"})," objects, appends them to the ",(0,i.jsx)(s.code,{children:"matchesFound"})," list, and removes completed orders from the ",(0,i.jsx)(s.code,{children:"TradeBook"})," to avoid reprocessing."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"matchpossiblepriorityqueue-buyorders-priorityqueue-sellorders",children:(0,i.jsx)(s.code,{children:"matchPossible(PriorityQueue buyOrders, PriorityQueue sellOrders)"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Description"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Helper method used by the ",(0,i.jsx)(s.code,{children:"match()"})," method."]}),"\n",(0,i.jsxs)(s.li,{children:["Looks at both sides of the ",(0,i.jsx)(s.code,{children:"TradeBook"})," and checks if there is exactly one match possible."]}),"\n",(0,i.jsxs)(s.li,{children:["Returns ",(0,i.jsx)(s.code,{children:"true"})," while a match is possible and ",(0,i.jsx)(s.code,{children:"false"})," when no matches are possible."]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>d});var n=r(6540);const i={},t=n.createContext(i);function o(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);